const e={blockClassName:"read-smore",wordsCount:70,charsCount:150,moreText:"Read More",lessText:"Read Less",isInline:!1};function n(n,t){t=Object.assign({},e,t);let r={originalContentArr:[],truncatedContentArr:[]};function s(e,s){const a=e.dataset.readSmoreChars||e.dataset.readSmoreWords||t.wordsCount,o=e.innerHTML,i=function(e,n,t=!1){const r=function(e){return e.replace(/(^\s*)|(\s*$)/gi,"")}(e);return t?r.split("").slice(0,n).join("")+"...":r.split(/\s+/).slice(0,n).join(" ")+"..."}(o,a,!!e.dataset.readSmoreChars),c=o.length;r.originalContentArr.push(o),r.truncatedContentArr.push(i),a<c&&(e.innerHTML=r.truncatedContentArr[s],function(e){const s=document.createElement("span");s.className=`${t.blockClassName}__link-wrap`,s.innerHTML=`<a id=${t.blockClassName}_${e}\n                             class=${t.blockClassName}__link\n                             style="cursor:pointer;">\n                             ${t.moreText}\n                          </a>`,n[e].after(s),function(e){document.querySelector(`#${t.blockClassName}_${e}`).addEventListener("click",s=>{n[e].classList.toggle("is-expanded");const a=s.currentTarget;"true"!==a.dataset.clicked?(n[e].innerHTML=r.originalContentArr[e],a.innerHTML=t.lessText,a.dataset.clicked=!0):(n[e].innerHTML=r.truncatedContentArr[e],a.innerHTML=t.moreText,a.dataset.clicked=!1)})}(e)}(s))}return{init:function(){for(let e=0,t=n.length;e<t;++e)s(n[e],e)}}}n.options=e;export{n as default};
//# sourceMappingURL=read-smore.modern.js.map
